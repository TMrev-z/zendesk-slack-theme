# セキュリティガイド

## 🔒 APIトークンの再発行（必須）

テーマ作成時に使用されたAPIトークンは、セキュリティのため**必ず再発行**してください。

### 手順

1. **Zendesk管理センターにログイン**
   - https://markdownlite.zendesk.com/admin/
   - 管理者アカウント（rny0810@gmail.com）でログイン

2. **現在のトークンを無効化**
   - 「アプリとインテグレーション」→「Zendesk API」
   - 「アクティブなAPIトークン」セクション
   - 現在のトークンの右側にある「削除」をクリック
   - 確認ダイアログで「削除」を選択

3. **新しいトークンを生成**
   - 「APIトークンを追加」をクリック
   - トークンの説明を入力（例: "Slack Theme Development"）
   - 「作成」をクリック
   - **⚠️ 新しいトークンをコピーして安全な場所に保存**
   - **この画面は一度しか表示されません**

4. **アクセス権限の確認**
   - 新しいトークンでAPI接続をテスト
   ```bash
   curl -u "rny0810@gmail.com/token:NEW_TOKEN" \
     "https://markdownlite.zendesk.com/api/v2/users/me.json"
   ```

## 🛡️ セキュリティベストプラクティス

### APIトークンの管理

- ✅ **定期的な更新**: 3-6ヶ月毎にトークンを更新
- ✅ **適切な保存**: パスワードマネージャーまたは環境変数で管理
- ✅ **最小権限**: 必要最小限の権限のみを付与
- ❌ **禁止事項**: 
  - コードやドキュメントにハードコード
  - チャットやメールで平文送信
  - 複数人での共有

### Zendesk設定の保護

- ✅ **二要素認証の有効化**
  - 管理者アカウント → プロファイル → セキュリティ
- ✅ **IP制限の設定**（必要に応じて）
  - 管理センター → セキュリティ → IP制限
- ✅ **管理者権限の監査**
  - 定期的にユーザー権限を確認

### テーマ開発時のセキュリティ

- ✅ **本番環境での直接作業を避ける**
  - 可能な限りSandbox環境を使用
- ✅ **テーマファイルの機密情報チェック**
  - APIキー、パスワード、個人情報の除去
- ✅ **バージョン管理**
  - Gitリポジトリで変更履歴を管理

## 🚨 セキュリティインシデント対応

### APIトークンが漏洩した場合

1. **即座にトークンを無効化**
2. **アクセスログを確認**
   - 管理センター → セキュリティ → 監査ログ
3. **新しいトークンを生成**
4. **影響範囲を調査**
5. **必要に応じて関係者に報告**

### 不審なアクティビティを発見した場合

1. **即座にパスワード変更**
2. **全セッションからログアウト**
3. **二要素認証の確認**
4. **監査ログの詳細確認**
5. **Zendeskサポートへ連絡**

## 📞 緊急連絡先

- **Zendeskサポート**: https://support.zendesk.com/
- **セキュリティ報告**: security@zendesk.com

---

**最終更新**: 2025年8月12日  
**次回見直し予定**: 2025年11月12日